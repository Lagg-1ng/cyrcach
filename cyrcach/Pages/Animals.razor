@page "/"
@using cyrcach.Data
@inject WorkersService WoService

<PageTitle>Counter</PageTitle>

<h1>Zoo</h1>
        <br/>
        <button @onclick = "GetAllAsync">Show all</button>
        <br/>
        <table id = "table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Animals</th>
                <th>Age</th>
                <th>Gender</th>
            </tr>
        </thead>
        @if (workers != null)
        {
            foreach (Worker w in workers)
            {
                 <tr>
                    <th>@w.Id</th>
                    <th>@w.Animals</th>
                    <th>@w.Age</th>
                    <th>@w.Gender</th>
                 </tr>
            }
        }
    </table>

@code {
    private List<Worker> workers;
    
    private async Task GetAllAsync()
    {
        workers = await WoService.GetWorkers();
    }
}
